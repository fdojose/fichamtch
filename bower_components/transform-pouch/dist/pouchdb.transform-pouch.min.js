!function t(n,e,r){function o(u,c){if(!e[u]){if(!n[u]){var s="function"==typeof require&&require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var f=e[u]={exports:{}};n[u][0].call(f.exports,function(t){var e=n[u][1][t];return o(e?e:t)},f,f.exports,t,n,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,n,e){"use strict";function r(t){var n="string"==typeof t._id&&o.isLocalId(t._id);return n||t._deleted}var o=t("./pouch-utils"),i=t("pouchdb-wrappers");e.transform=e.filter=function(t){var n=this,e=function(n){return!r(n)&&t.incoming?t.incoming(o.clone(n)):n},u=function(n){return!r(n)&&t.outgoing?t.outgoing(o.clone(n)):n},c={};"http"===n.type()&&(c.query=function(t){return t().then(function(t){return t.rows.forEach(function(t){t.doc&&(t.doc=u(t.doc))}),t})}),c.get=function(t){return t().then(function(t){return Array.isArray(t)?t.forEach(function(t){t.ok&&(t.ok=u(t.ok))}):t=u(t),t})},c.bulkDocs=function(t,n){for(var r=0;r<n.docs.length;r++)n.docs[r]=e(n.docs[r]);return t()},c.allDocs=function(t){return t().then(function(t){return t.rows.forEach(function(t){t.doc&&(t.doc=u(t.doc))}),t})},c.changes=function(t){function n(t){return t.doc&&(t.doc=u(t.doc)),t}function e(t){return t.results=t.results.map(n),t}var r=t(),o=r.on;r.on=function(t,i){return"change"===t?o.apply(r,[t,function(t){i(n(t))}]):"complete"===t?o.apply(r,[t,function(t){i(e(t))}]):o.apply(r,[t,i])};var i=r.then;return r.then=function(t,n){return i.apply(r,[function(n){t(e(n))},n])},r},i.installWrapperMethods(n,c)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e)},{"./pouch-utils":9,"pouchdb-wrappers":6}],2:[function(t,n,e){(function(t){"use strict";function e(){f=!0;for(var t,n,e=l.length;e;){for(n=l,l=[],t=-1;++t<e;)n[t]();e=l.length}f=!1}function r(t){1!==l.push(t)||f||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var u=0,c=new i(e),s=t.document.createTextNode("");c.observe(s,{characterData:!0}),o=function(){s.data=u=++u%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var n=t.document.createElement("script");n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n)}:function(){setTimeout(e,0)};else{var a=new t.MessageChannel;a.port1.onmessage=e,o=function(){a.port2.postMessage(0)}}var f,l=[];n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,n,e){"function"==typeof Object.create?n.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(t,n){t.super_=n;var e=function(){};e.prototype=n.prototype,t.prototype=new e,t.prototype.constructor=t}},{}],4:[function(t,n,e){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,t!==r&&s(this,t)}function i(t,n,e){this.promise=t,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function u(t,n,e){d(function(){var r;try{r=n(e)}catch(o){return v.reject(t,o)}r===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,r)})}function c(t){var n=t&&t.then;return t&&"object"==typeof t&&"function"==typeof n?function(){n.apply(t,arguments)}:void 0}function s(t,n){function e(n){i||(i=!0,v.reject(t,n))}function r(n){i||(i=!0,v.resolve(t,n))}function o(){n(r,e)}var i=!1,u=a(o);"error"===u.status&&e(u.value)}function a(t,n){var e={};try{e.value=t(n),e.status="success"}catch(r){e.status="error",e.value=r}return e}function f(t){return t instanceof this?t:v.resolve(new this(r),t)}function l(t){var n=new this(r);return v.reject(n,t)}function h(t){function n(t,n){function r(t){u[n]=t,++c!==o||i||(i=!0,v.resolve(a,u))}e.resolve(t).then(r,function(t){i||(i=!0,v.reject(a,t))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,i=!1;if(!o)return this.resolve([]);for(var u=new Array(o),c=0,s=-1,a=new this(r);++s<o;)n(t[s],s);return a}function p(t){function n(t){e.resolve(t).then(function(t){i||(i=!0,v.resolve(c,t))},function(t){i||(i=!0,v.reject(c,t))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,i=!1;if(!o)return this.resolve([]);for(var u=-1,c=new this(r);++u<o;)n(t[u]);return c}var d=t("immediate"),v={},y=["REJECTED"],m=["FULFILLED"],w=["PENDING"];n.exports=e=o,o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,n){if("function"!=typeof t&&this.state===m||"function"!=typeof n&&this.state===y)return this;var e=new this.constructor(r);if(this.state!==w){var o=this.state===m?t:n;u(e,o,this.outcome)}else this.queue.push(new i(e,t,n));return e},i.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){u(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){v.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){u(this.promise,this.onRejected,t)},v.resolve=function(t,n){var e=a(c,n);if("error"===e.status)return v.reject(t,e.value);var r=e.value;if(r)s(t,r);else{t.state=m,t.outcome=n;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(n)}return t},v.reject=function(t,n){t.state=y,t.outcome=n;for(var e=-1,r=t.queue.length;++e<r;)t.queue[e].callRejected(n);return t},e.resolve=f,e.reject=l,e.all=h,e.race=p},{immediate:2}],5:[function(t,n,e){"use strict";function r(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?a[p.call(t)]||"object":typeof t}function o(t){return null!==t&&t===t.window}function i(t){if(!t||"object"!==r(t)||t.nodeType||o(t))return!1;try{if(t.constructor&&!d.call(t,"constructor")&&!d.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var e;for(e in t);return void 0===e||d.call(t,e)}function u(t){return"function"===r(t)}function c(){for(var t=[],n=-1,e=arguments.length,r=new Array(e);++n<e;)r[n]=arguments[n];var o={};t.push({args:r,result:{container:o,key:"key"}});for(var i;i=t.pop();)s(t,i.args,i.result);return o.key}function s(t,n,e){var r,o,c,s,a,f,l,h=n[0]||{},p=1,d=n.length,y=!1,m=/\d+/;for("boolean"==typeof h&&(y=h,h=n[1]||{},p=2),"object"==typeof h||u(h)||(h={}),d===p&&(h=this,--p);d>p;p++)if(null!=(r=n[p])){l=v(r);for(o in r)if(!(o in Object.prototype)){if(l&&!m.test(o))continue;if(c=h[o],s=r[o],h===s)continue;y&&s&&(i(s)||(a=v(s)))?(a?(a=!1,f=c&&v(c)?c:[]):f=c&&i(c)?c:{},t.push({args:[y,f,s],result:{container:h,key:o}})):void 0!==s&&(v(r)&&u(s)||(h[o]=s))}}e.container[e.key]=h}for(var a={},f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<f.length;l++){var h=f[l];a["[object "+h+"]"]=h.toLowerCase()}var p=a.toString,d=a.hasOwnProperty,v=Array.isArray||function(t){return"array"===r(t)};n.exports=c},{}],6:[function(t,n,e){"use strict";function r(t,n,e){for(var r in n)if(n.hasOwnProperty(r)){var i=o(t,r),u=i.base[i.name];if(u)if(u.hasOwnProperty("_handlers")){if(-1!==u._handlers.indexOf(n[r]))throw new Error("Wrapper method for '"+r+"' already installed: "+n[r]);u._handlers.push(n[r])}else i.base[i.name]=e(r,u,n[r],t)}}function o(t,n){for(n=n.split(".");n.length>1;)t=t[n.shift(0)];return{base:t,name:n[0]}}function i(t,n,e,r,o){var u=r[t];if("undefined"==typeof i)throw new Error("No known wrapper for method name: "+t);var c=[e],s=u(o,n,c);return s._original=n,s._handlers=c,s}function u(t,n,e,r){return"function"==typeof e&&(r=e,e={}),{base:t||n,db:t||n,options:e||{},callback:r}}function c(t,n,e){var r=n.callback;delete n.callback,e=e.bind(n.base);for(var o=t.length-1;o>=0;o-=1)e=t[o].bind(null,e,n);var i=e();return l(i,r),i}function s(t){return function(){return t.call(this)}}function a(t,n){return function(){return t.call(this,n.options)}}function f(t,n){for(var e in n)if(n.hasOwnProperty(e)){var r=o(t,e),i=r.base[r.name];if("undefined"!=typeof i){var u;try{u=i._handlers.indexOf(n[e])}catch(c){u=-1}if(-1===u)throw new Error("Wrapper method for '"+e+"' not installed: "+n[e]);i._handlers.splice(u,1),i._handlers.length||(delete r.base[r.name],r.base[r.name]!==i._original&&(r.base[r.name]=i._original))}}}var l=t("promise-nodify");e.installStaticWrapperMethods=function(t,n){t["new"]=t["new"]||function(n,e,r){return new t(n,e,r)},t.destroy=t.destroy||function(n,e,r){var o=u(t,this,e,r),i=new t(n,o.options),c=i.destroy();return l(c,o.callback),c},r(t,n,e.createStaticWrapperMethod)},e.installWrapperMethods=function(t,n){r(t,n,e.createWrapperMethod)},e.createStaticWrapperMethod=function(t,n,e,r){return i(t,n,e,p,r)},e.createWrapperMethod=function(t,n,e,r){return i(t,n,e,h,r)};var h={};h.destroy=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,s(n))}},h.put=function(t,n,e){return function(r,o,i,u,s){var a={};a.base=t||this,a.db=t||this;var f=Array.prototype.slice.call(arguments);a.doc=f.shift();for(var l=("_id"in a.doc);;){var h=f.shift(),p=typeof h;if("string"!==p||l?"string"!==p||!l||"_rev"in a.doc?"object"===p?a.options=h:"function"===p&&(a.callback=h):a.doc._rev=h:(a.doc._id=h,l=!0),!f.length)break}return a.options=a.options||{},c(e,a,function(){return n.call(this,a.doc,a.options)})}},h.post=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.doc=r,c(e,s,function(){return n.call(this,s.doc,s.options)})}},h.get=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.docId=r,c(e,s,function(){return n.call(this,s.docId,s.options)})}},h.remove=function(t,n,e){return function(r,o,i,s){var a;return"string"==typeof o?(a=u(t,this,i,s),a.doc={_id:r,_rev:o}):(a=u(t,this,o,i),a.doc=r),c(e,a,function(){return n.call(this,a.doc,a.options)})}},h.bulkDocs=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return"new_edits"in r&&(s.options.new_edits=r.new_edits),s.docs=r.docs||r,c(e,s,function(){return n.call(this,s.docs,s.options)})}},h.allDocs=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},h.changes=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},h.sync=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.url=r,c(e,s,function(){return n.call(this,s.url,s.options)})}},h["replicate.from"]=h.sync,h["replicate.to"]=h.sync,h.putAttachment=function(t,n,e){return function(r,o,i,s,a,f,l){var h;return"string"==typeof a?(h=u(t,this,f,l),h.rev=i,h.doc=s,h.type=a):(h=u(t,this,a,f),h.rev=null,h.doc=i,h.type=s),h.docId=r,h.attachmentId=o,c(e,h,function(){return n.call(this,h.docId,h.attachmentId,h.rev,h.doc,h.type)})}},h.getAttachment=function(t,n,e){return function(r,o,i,s){var a=u(t,this,i,s);return a.docId=r,a.attachmentId=o,c(e,a,function(){return n.call(this,a.docId,a.attachmentId,a.options)})}},h.removeAttachment=function(t,n,e){return function(r,o,i,s,a){var f=u(t,this,s,a);return f.docId=r,f.attachmentId=o,f.rev=i,c(e,f,function(){return n.call(this,f.docId,f.attachmentId,f.rev)})}},h.query=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.fun=r,c(e,s,function(){return n.call(this,s.fun,s.options)})}},h.viewCleanup=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},h.info=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,s(n))}},h.compact=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},h.revsDiff=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.diff=r,c(e,s,function(){return n.call(this,s.diff)})}},h.list=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.path=r,c(e,s,function(){return n.call(this,s.path,s.options)})}},h.rewriteResultRequestObject=h.list,h.show=h.list,h.update=h.list,h.getSecurity=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,a(n,i))}},h.putSecurity=function(t,n,e){return function(r,o,i){var s=u(t,this,o,i);return s.secObj=r,c(e,s,function(){return n.call(this,s.secObj)})}};var p={};p["new"]=function(t,n,e){return function(r,o,i){var s;return"object"==typeof r?s=u(t,this,r,o):(s=u(t,this,o,i),s.options.name=r),c(e,s,function(){return n.call(this,s.options)})}},p.destroy=function(t,n,e){return function(r,o,i){var s;return"object"==typeof r?s=u(t,this,r,o):(s=u(t,this,o,i),s.options.name=r),s.options.internal?n.apply(t,arguments):c(e,s,function(){var t=s.options.name;return delete s.options.name,n.call(this,t,s.options)})}},p.replicate=function(t,n,e){return function(r,o,i,s){var a=u(t,this,i,s);return a.source=r,a.target=o,c(e,a,function(){return n.call(this,a.source,a.target,a.options)})}},p.allDbs=function(t,n,e){return function(r,o){var i=u(t,this,r,o);return c(e,i,s(n))}},e.uninstallWrapperMethods=function(t,n){f(t,n)},e.uninstallStaticWrapperMethods=function(t,n){f(t,n)}},{"promise-nodify":8}],7:[function(t,n,e){function r(){f=!1,c.length?a=c.concat(a):l=-1,a.length&&o()}function o(){if(!f){var t=setTimeout(r);f=!0;for(var n=a.length;n;){for(c=a,a=[];++l<n;)c&&c[l].run();l=-1,n=a.length}c=null,f=!1,clearTimeout(t)}}function i(t,n){this.fun=t,this.array=n}function u(){}var c,s=n.exports={},a=[],f=!1,l=-1;s.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];a.push(new i(t,n)),1!==a.length||f||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=u,s.addListener=u,s.once=u,s.off=u,s.removeListener=u,s.removeAllListeners=u,s.emit=u,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],8:[function(t,n,e){"use strict";n.exports=function(t,n){"function"==typeof n&&t.then(function(t){n(null,t)},function(t){n(t,null)})}},{}],9:[function(t,n,e){(function(n,r){"use strict";var o;o="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof r.Promise?r.Promise:t("lie"),e.once=function(t){var n=!1;return e.getArguments(function(e){if(n)throw console.trace(),new Error("once called  more than once");n=!0,t.apply(this,e)})},e.getArguments=function(t){return function(){for(var n=arguments.length,e=new Array(n),r=-1;++r<n;)e[r]=arguments[r];return t.call(this,e)}},e.toPromise=function(t){return e.getArguments(function(r){var i,u=this,c="function"==typeof r[r.length-1]?r.pop():!1;c&&(i=function(t,e){n.nextTick(function(){c(t,e)})});var s=new o(function(n,o){try{var i=e.once(function(t,e){t?o(t):n(e)});r.push(i),t.apply(u,r)}catch(c){o(c)}});return i&&s.then(function(t){i(null,t)},i),s.cancel=function(){return this},s})},e.inherits=t("inherits"),e.Promise=o,e.extend=t("pouchdb-extend"),e.clone=function(t){return e.extend(!0,{},t)},e.isLocalId=function(t){return/^_local/.test(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:7,inherits:3,lie:4,"pouchdb-extend":5}]},{},[1]);
